@prefix ontohgis: <http://purl.org/ontohgis#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix d2rq: <http://www.wiwiss.fu-berlin.de/suhl/bizer/D2RQ/0.1#> .
@prefix jdbc: <http://d2rq.org/terms/jdbc/> .
@prefix geo: <http://www.opengis.net/ont/geosparql#> .
@prefix sf: <http://www.opengis.net/ont/sf#> .
@prefix oc: <http://ontologies.makolab.com/oc/> .
@prefix ontohgis: <http://purl.org/ontohgis#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix obo: <http://purl.obolibrary.org/obo/> .

ontohgis:Configuration a d2rq:Configuration;
    d2rq:useAllOptimizations true.

ontohgis:database a d2rq:Database;
	d2rq:jdbcDriver "org.postgresql.Driver";
	d2rq:jdbcDSN "jdbc:postgresql://localhost/ontogeohist:ontology";
	d2rq:username "ohgis";
	d2rq:password "sagan1";
	.

ontohgis:Manifestations a d2rq:ClassMap;
	d2rq:dataStorage ontohgis:database;
	d2rq:uriPattern "#SettlementManifestation_@@ontology.SettlementManifestations.Identifiers@@";
	.
	
ontohgis:Geometries a d2rq:ClassMap;
	d2rq:dataStorage ontohgis:database;
	d2rq:containsDuplicates true;
	d2rq:uriPattern "#Geometry_@@ontology.SettlementManifestations.Geometries@@";
	d2rq:class sf:Point;
	.

ontohgis:Names a d2rq:ClassMap;
    d2rq:uriSqlExpression "CONCAT('#Name_',ENCODE(ontology.SettlementManifestations.Names::bytea, 'hex'))";
	d2rq:containsDuplicates true;
    d2rq:dataStorage ontohgis:database;
	d2rq:class ontohgis:object_30;
	.
	
ontohgis:ManifestationTypesBridge a d2rq:PropertyBridge;
    d2rq:property rdf:type;
    d2rq:uriPattern "http://purl.org/ontohgis#settlement_unit@@ontology.SettlementManifestations.Types@@"; 
    d2rq:belongsToClassMap ontohgis:Manifestations	
	.
	
ontohgis:ManifestationTypesBridge2 a d2rq:PropertyBridge;
    d2rq:property rdf:type;
    d2rq:uriPattern "http://www.w3.org/2002/07/owl#NamedIndividual"; 
    d2rq:belongsToClassMap ontohgis:Manifestations	
	.
	
ontohgis:ManifestationLabelsBridge a d2rq:PropertyBridge;
    d2rq:property rdfs:label;
    d2rq:pattern "@@ontology.SettlementManifestations.Names@@"; 
    d2rq:belongsToClassMap ontohgis:Manifestations
	.
	
ontohgis:NameLabelsBridge a d2rq:PropertyBridge;
    d2rq:property rdfs:label;
    d2rq:pattern "@@ontology.SettlementManifestations.Names@@"; 
    d2rq:belongsToClassMap ontohgis:Names
	.

ontohgis:isDefinedBy a d2rq:PropertyBridge;
	d2rq:belongsToClassMap ontohgis:Manifestations;
	d2rq:property ontohgis:isDefinedBy;
	d2rq:refersToClassMap ontohgis:Names
	.
	
#ontohgis:isPartOf a d2rq:PropertyBridge;
	#d2rq:belongsToClassMap ontohgis:Manifestations;
	#d2rq:property obo:BFO_0000050;
	#d2rq:refersToClassMap ontohgis:Manifestations;
	#d2rq:join "ontology.SettlementManifestations.Mereology => ontology.SettlementManifestations.Identifiers";
	#.

ontohgis:ontology_SettlementManifestations_StartsAt a d2rq:PropertyBridge;
	d2rq:belongsToClassMap ontohgis:Manifestations;
	d2rq:property oc:hasBeginning;
	d2rq:column "ontology.SettlementManifestations.StartsAt";
	d2rq:datatype xsd:date;
	.
	
ontohgis:ontology_SettlementManifestations_EndsAt a d2rq:PropertyBridge;
	d2rq:belongsToClassMap ontohgis:Manifestations;
	d2rq:property oc:hasEnd;
	d2rq:column "ontology.SettlementManifestations.EndsAt";
	d2rq:datatype xsd:date;
	.
ontohgis:GeometriesBridge a d2rq:PropertyBridge;
	d2rq:belongsToClassMap ontohgis:Geometries;
	d2rq:property geo:asWkt;
	d2rq:sqlExpression "St_AsText(ontology.SettlementManifestations.Geometries)";
	d2rq:datatype geo:wktLiteral
	.

ontohgis:ManifestationGeometriesBridge a d2rq:PropertyBridge;
	d2rq:belongsToClassMap ontohgis:Manifestations;
	d2rq:property ontohgis:hasGeometry;
	d2rq:refersToClassMap ontohgis:Geometries
	.

